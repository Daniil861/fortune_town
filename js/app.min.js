(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible")),sessionStorage.getItem("money")?document.querySelector(".check")&&document.querySelectorAll(".check").forEach((e=>{console.log(e),e.textContent=sessionStorage.getItem("money")})):(sessionStorage.setItem("money",5e3),document.querySelector(".check")&&document.querySelectorAll(".check").forEach((e=>{e.textContent=sessionStorage.getItem("money")}))),sessionStorage.setItem("chips-4",!0),sessionStorage.setItem("current-chip",4);const t=document.querySelector(".preloader"),o=document.querySelector(".wrapper");function s(e,t){document.querySelector(e).classList.contains(t)?document.querySelector(e).classList.remove(t):document.querySelector(e).classList.add(t)}function c(e){document.querySelectorAll(e).forEach((e=>e.classList.add("_no-money"))),setTimeout((()=>{document.querySelectorAll(e).forEach((e=>e.classList.add("_no-money")))}),1e3)}function n(){let e=(t=0,o=3,Math.floor(Math.random()*(o-t)+t));var t,o;let s=document.querySelector(".bank__body img");s.classList.contains("_anim-icon-jump")?s.classList.remove("_anim-icon-jump"):s.classList.contains("_anim-icon-scale")?s.classList.remove("_anim-icon-scale"):s.classList.contains("_anim-icon-rotate")&&s.classList.remove("_anim-icon-rotate"),s.classList.add(`_anim-icon-${["jump","scale","rotate"][e]}`)}document.querySelector(".bank__body img")&&setInterval((()=>{n()}),2e4);let r=4e3,i=6e3,l=1e4;function a(){document.querySelectorAll(".shop__item").forEach((e=>{sessionStorage.getItem("chips-1")&&1==e.dataset.chip&&(e.classList.add("_buy"),document.querySelector(".shop__button_1").innerHTML="<p>select</p>"),sessionStorage.getItem("chips-2")&&2==e.dataset.chip&&(e.classList.add("_buy"),document.querySelector(".shop__button_2").innerHTML="<p>select</p>"),sessionStorage.getItem("chips-3")&&3==e.dataset.chip&&(e.classList.add("_buy"),document.querySelector(".shop__button_3").innerHTML="<p>select</p>"),sessionStorage.getItem("chips-4")&&4==e.dataset.chip&&(e.classList.add("_buy"),document.querySelector(".shop__button_4").innerHTML="<p>select</p>")}))}function m(e){sessionStorage.setItem("current-chip",e)}function u(e){document.querySelector(".shop__check-mark")&&document.querySelector(".shop__check-mark").remove();let t=document.createElement("div");t.classList.add("shop__check-mark");let o=document.createElement("img");o.setAttribute("src","img/icons/check-mark.png"),t.append(o),e.append(t)}function d(e,t){let o=0;1==e?o=r:2==e?o=i:3==e&&(o=l),sessionStorage.getItem(`chips-${e}`)?(m(e),u(t)):+sessionStorage.getItem("money")>=o?(sessionStorage.setItem(`chips-${e}`,!0),function(e,t){let o=+sessionStorage.getItem("money");sessionStorage.setItem("money",o-e),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.add("_delete-money"))),document.querySelectorAll(t).forEach((e=>e.textContent=sessionStorage.getItem("money")))}),500),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.add("_delete-money")))}),1500)}(o,".check"),a()):c(".check")}document.addEventListener("click",(e=>{let n=e.target;if(n.closest(".preloader__button")&&(sessionStorage.setItem("preloader",!0),t.classList.add("_hide"),o.classList.add("_visible")),n.closest(".main__link_store")&&(s(".main","_hide"),s(".shop","_hide"),a()),n.closest(".main__link_play")&&(!function(){document.querySelector(".block-bet__icon img")&&document.querySelector(".block-bet__icon img").remove();let e=sessionStorage.getItem("current-chip"),t=document.createElement("img");t.setAttribute("src",`img/icons/chip-${e}.png`),t.setAttribute("alt","Icon"),document.querySelector(".block-bet__icon").append(t)}(),s(".main","_hide"),s(".game","_hide"),sessionStorage.setItem("current-bet",100),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet")),n.closest(".button_home")&&(s(".main","_hide"),document.querySelector(".shop").classList.contains("_hide")?document.querySelector(".game").classList.contains("_hide")||s(".game","_hide"):s(".shop","_hide")),n.closest(".shop__button_4")&&sessionStorage.getItem("chips-4")&&(m(4),u(n.closest(".shop__item"))),n.closest(".shop__button_3")&&d(3,n.closest(".shop__item")),n.closest(".shop__button_2")&&d(2,n.closest(".shop__item")),n.closest(".shop__button_1")&&d(1,n.closest(".shop__item")),n.closest(".block-bet__minus")){console.log("Нажали на кнопку минус");let e=+sessionStorage.getItem("current-bet");e>=100&&(sessionStorage.setItem("current-bet",e-100),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet"))}if(n.closest(".block-bet__plus")){console.log("Нажали на кнопку плюс");let e=+sessionStorage.getItem("current-bet");+sessionStorage.getItem("money")-99>e?(sessionStorage.setItem("current-bet",e+100),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet")):c(".check")}})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();